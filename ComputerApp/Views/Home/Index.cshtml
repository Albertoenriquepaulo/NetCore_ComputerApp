@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Http
@using Newtonsoft.Json;
@using ComputerApp.ViewModels;
@using ComputerApp.Services;

@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager
@inject HelperService HelperService

@{
    ViewData["Title"] = "Home Page";
}

@{
    bool isAdmin = false;
    AppUser myCurrentUser = await UserManager.GetUserAsync(User);
    if (myCurrentUser != null && await UserManager.IsInRoleAsync(myCurrentUser, "admin"))
    {
        isAdmin = true;
    }
}

    <div class="text-center">
        @*<h1 class="display-4">Welcome</h1>*@
        @*<p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>*@
        @if (isAdmin)
        {
            <a class="btn btn-outline-primary" href="#"><i class="fas fa-users-cog fa-7x"></i><br />Admin</a>
            <hr />
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active"
                       id="home-tab"
                       data-toggle="tab"
                       href="#home"
                       role="tab"
                       aria-controls="home"
                       aria-selected="true">Component Types</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       id="profile-tab"
                       data-toggle="tab"
                       href="#profile"
                       role="tab"
                       aria-controls="profile"
                       aria-selected="false">Computer Component</a>  @*Al component*@ 
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       id="contact-tab"
                       data-toggle="tab"
                       href="#contact"
                       role="tab"
                       aria-controls="contact"
                       aria-selected="false">Order</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    Component Types
                </div>
                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    Computer Component
                </div>
                <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">Order</div>
            </div>
        }
        else
        {
            <a class="btn btn-outline-primary" asp-area="" asp-controller="Home" asp-action="Desktop" asp-route-isDesktop="True"><i class="fas fa-desktop" style="font-size:15rem"></i><br />Desktop</a>
            <a class="btn btn-outline-primary" asp-area="" asp-controller="Home" asp-action="Desktop" asp-route-isDesktop="False"><i class="fas fa-laptop" style="font-size:15rem"></i><br />Laptop</a>
        }

    </div>
